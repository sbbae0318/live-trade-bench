# CORS 에러 해결 가이드

## 문제 상황

- 백엔드가 `192.168.0.63:5001`에서 실행 중
- 프론트엔드가 다른 IP에서 접속
- 프론트엔드가 `http://localhost:5001`로 요청을 보냄
- CORS 에러 발생

## 해결 방법

### 1. 프론트엔드 API URL 변경

프론트엔드의 `.env` 파일을 생성하고 백엔드 IP를 설정하세요:

```bash
cd new_frontend
cat > .env << EOF
REACT_APP_API_URL=http://192.168.0.63:5001
EOF
```

### 2. 프론트엔드 재시작

환경 변수 변경 후 프론트엔드를 재시작해야 합니다:

```bash
# 프론트엔드 중지 (Ctrl+C)
# 다시 시작
npm start
```

### 3. 백엔드 CORS 설정 확인

백엔드는 이미 개발 모드에서 모든 origin을 허용하도록 설정되어 있습니다.

백엔드가 `0.0.0.0`에서 리스닝하는지 확인:

```bash
# run.py에서 host가 0.0.0.0인지 확인
# 또는 uvicorn 실행 시 --host 0.0.0.0 사용
```

### 4. 네트워크 접속 확인

프론트엔드가 접속하는 실제 URL:
- 프론트엔드: `http://[프론트엔드_IP]:3000`
- 백엔드 API: `http://192.168.0.63:5001`

브라우저 개발자 도구(F12) → Network 탭에서:
- 요청 URL이 `http://192.168.0.63:5001/api/binance/chart/agents`인지 확인
- 응답 헤더에 `Access-Control-Allow-Origin: *`가 있는지 확인

## 빠른 해결

1. **프론트엔드 `.env` 파일 생성**:
   ```bash
   cd new_frontend
   echo "REACT_APP_API_URL=http://192.168.0.63:5001" > .env
   ```

2. **프론트엔드 재시작**:
   ```bash
   npm start
   ```

3. **백엔드 확인**:
   - 백엔드가 `0.0.0.0:5001`에서 리스닝 중인지 확인
   - `http://192.168.0.63:5001/health` 접속하여 응답 확인

## 추가 확인 사항

- 방화벽이 포트 5001을 차단하지 않는지 확인
- 백엔드 서버의 네트워크 인터페이스가 올바른지 확인
- 프론트엔드와 백엔드가 같은 네트워크에 있는지 확인

